# Supabase Configuration (PUBLIC - safe for client-side)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key

# Supabase Service Role (SERVER-ONLY - KEEP SECRET!)
# Get from: https://supabase.com/dashboard/project/[PROJECT]/settings/api
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Better Auth Database Connection (SERVER-ONLY - KEEP SECRET!)
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
DATABASE_URL=postgresql://postgres:your-password@db.your-project.supabase.co:5432/postgres

# Better Auth Configuration (SERVER-ONLY - KEEP SECRET!)
# Generate with: openssl rand -base64 32
BETTER_AUTH_SECRET=your-secret-key-min-32-chars

# Better Auth URL (PUBLIC - but optional for client-side)
BETTER_AUTH_URL=http://localhost:3000
NEXT_PUBLIC_BETTER_AUTH_URL=http://localhost:3000

# Unsend API Key (SERVER-ONLY - for Magic Link Emails & Email Change Verification)
# Get your API key from: https://unsend.dev or your self-hosted instance
UNSEND_API_KEY=us_your_api_key_here

# Unsend Base URL (SERVER-ONLY - Optional, nur für self-hosted Instanzen)
# Cloud-Version: Leer lassen oder weglassen
# Self-Hosted: https://your-unsend-instance.com
UNSEND_BASE_URL=

# ============================================
# Phase 1: KI-Pipeline (LLM Integration)
# ============================================

# OpenAI API Key (required for all AI features)
OPENAI_API_KEY=sk-proj-...

# Multi-Stage KI-Workflow Models
OPENAI_SELECTION_MODEL=gpt-4o-mini           # Topic-Suggestions (Stage 1)
OPENAI_MICRO_DOSE_MODEL=gpt-4.1-mini         # Micro-Dose Research (Stage 2)
OPENAI_DEEP_DIVE_MODEL=o4-mini-deep-research # Deep-Dive Research (Stage 2)
OPENAI_STRUCTURE_MODEL=gpt-4.1-mini          # D3-Strukturierung (Stage 3)

# Legacy (deprecated - can be removed later)
THESYS_KEY=sk-th-...

# ============================================
# Phase 2: Rate Limiting & Monetarisierung
# ============================================

# Upstash Redis (Rate Limiting für Free-Tier)
# Get from: https://console.upstash.com
# UPSTASH_REDIS_REST_URL=https://your-redis.upstash.io
# UPSTASH_REDIS_REST_TOKEN=your-token

# Stripe (Zahlungen & Abonnements)
# Get from: https://dashboard.stripe.com/apikeys
# STRIPE_SECRET_KEY=sk_test_...
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...

# ============================================
# Phase 3: Erweiterte E-Mail Benachrichtigungen
# ============================================

# Unsend wird bereits oben für Auth verwendet
# Für Lesson-Completion E-Mails kann dieselbe Unsend-Integration verwendet werden
# Optional: Separate Absender-E-Mail für Benachrichtigungen
# UNSEND_FROM_EMAIL=notifications@lernfa.st
